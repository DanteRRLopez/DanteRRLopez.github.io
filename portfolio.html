<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portafolio | DanteRRLopez</title>
  <link rel="stylesheet" href="assets/css/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
</head>
<body>
  <div class="floating-objects" aria-hidden="true">
    <div class="floating-item f1" data-related="proyecto-generation"><img src="assets/img/proyectos/proyecto-generation_hero.png" alt="Pawssible" style="width:48px;height:48px;border-radius:8px;object-fit:cover;"/></div>
    <div class="floating-item f2" data-related="ad-07-blogsite"><img src="assets/img/proyectos/ad07_hero.png" alt="MotionMakers" style="width:44px;height:44px;border-radius:8px;object-fit:cover;"/></div>
    <div class="floating-item f3" data-related="dom"><i class="fas fa-database"></i></div>
    <div class="floating-item f4" data-related="fitgen"><img src="assets/img/proyectos/fitgen_hero.png" alt="FitGen" style="width:48px;height:48px;border-radius:8px;object-fit:cover;"/></div>
    <div class="floating-item f5" data-related="front-end"><i class="fas fa-cloud"></i></div>
    <div class="floating-item f6"><i class="fas fa-rocket"></i></div>
  </div>
  <nav class="nav">
    <ul class="nav-links">
      <li><a href="index.html"><i class="fas fa-home"></i> Inicio</a></li>
      <li><a href="portfolio.html" aria-current="page"><i class="fas fa-laptop-code"></i> Portafolio</a></li>
      <li><a href="about.html"><i class="fas fa-child"></i> Acerca de mí</a></li>
      <li><a href="skills.html"><i class="fas fa-cloud"></i> Cloud & Data</a></li>
      <li><a href="cv.html"><i class="fas fa-file-alt"></i> CV</a></li>
      <li><a href="blog.html"><i class="fas fa-pencil-alt"></i> Blog</a></li>
    </ul>
  </nav>

  <main class="container">
    <h1 class="title-with-icon"><i class="fas fa-laptop-code"></i> Portafolio</h1>
    <p>Proyectos seleccionados: colaboración, landing pages, blog y autenticación.</p>

    <div class="filters">
      <button class="chip" data-filter="all" aria-pressed="true">Todo</button>
      <button class="chip" data-filter="colaborativo">Colaborativo</button>
      <button class="chip" data-filter="frontend">Front-end</button>
      <button class="chip" data-filter="ui">UI</button>
    </div>

    <section id="grid" class="grid"></section>
  </main>

  <footer class="footer footer-portfolio">© <span id="year"></span> Dante Roberto Reyna López<a href="https://github.com/DanteRRLopez" target="_blank" rel="noopener"><img class="github-logo" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo"></a></footer>
  <script src="scripts/render-portfolio.js"></script>
  <script>
    // If running locally without a server, fetch() may be blocked by CORS/file protocol.
    // As a fallback, load the inline dataset and render it.
    (function fallbackIfEmpty(){
      const tryInject = () => {
        const grid = document.getElementById('grid');
        // When render-portfolio runs and fails, it leaves fallback or empty; inject only if we find grid empty
        if (grid && grid.children.length === 0) {
          const s = document.createElement('script');
          s.src = 'scripts/projects-inline.js';
          s.onload = () => {
            // Basic render to match current renderer
            if (window.PROJECTS && Array.isArray(window.PROJECTS)) {
              // Simple re-render using same card structure as render-portfolio.js
              const items = window.PROJECTS;
              grid.innerHTML = items.map(p => `
                <article class="card" data-project-id="${p.slug}">
                  <div class="card-chips">${(p.tipo||[]).slice(0,2).map(t => `<span class='card-chip ${t}'>${t}</span>`).join('')}</div>
                  <div class="card-media">
                    <img src="${p.thumb}" class="card-thumb" alt="Imagen del proyecto ${p.titulo}">
                    <div class="tech-chips">${(p.tecnologias||[]).slice(0,3).map(t => `<span class='tech-chip ${t}'>${t}</span>`).join('')}</div>
                  </div>
                  <div class="card-body">
                    <h3>${p.titulo}</h3>
                    <p>${p.descripcion}</p>
                    <div class="tags">${(p.tipo||[]).map(t => `<span class='tag'>${t}</span>`).join('')}</div>
                    <div class="actions">
                      <a href="${p.repo}" target="_blank" rel="noopener" class="btn">Código</a>
                      ${p.demo ? `<a href='${p.demo}' target='_blank' rel='noopener' class='btn'>Demo</a>` : ''}
                      ${p.video ? `<a href='${p.video}' target='_blank' rel='noopener' class='btn btn-secondary'>Vídeo</a>` : ''}
                    </div>
                  </div>
                </article>
              `).join('');
            }
          };
          document.body.appendChild(s);
        }
      };
      // Try after current call stack and a second pass after a short delay
      setTimeout(tryInject, 80);
      setTimeout(tryInject, 300);
    })();
  </script>
</body>
</html>
